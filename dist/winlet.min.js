!function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){return r(t[a][1][e]||e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){t.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},t.exports.__esModule=!0,t.exports.default=t.exports},{}],2:[function(e,t,n){t.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},{}],3:[function(e,t,n){var i=e("./isNativeReflectConstruct.js"),r=e("./setPrototypeOf.js");t.exports=function(e,t,n){if(i())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var a=new(e.bind.apply(e,o));return n&&r(a,n.prototype),a},t.exports.__esModule=!0,t.exports.default=t.exports},{"./isNativeReflectConstruct.js":10,"./setPrototypeOf.js":12}],4:[function(e,t,n){var i=e("./toPropertyKey.js");function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}t.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},t.exports.__esModule=!0,t.exports.default=t.exports},{"./toPropertyKey.js":14}],5:[function(e,t,n){var i=e("./toPropertyKey.js");t.exports=function(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},t.exports.__esModule=!0,t.exports.default=t.exports},{"./toPropertyKey.js":14}],6:[function(e,t,n){function i(e){return t.exports=i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},t.exports.__esModule=!0,t.exports.default=t.exports,i(e)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},{}],7:[function(e,t,n){var i=e("./setPrototypeOf.js");t.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)},t.exports.__esModule=!0,t.exports.default=t.exports},{"./setPrototypeOf.js":12}],8:[function(e,t,n){t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],9:[function(e,t,n){t.exports=function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],10:[function(e,t,n){function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t.exports=i=function(){return!!e},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},{}],11:[function(e,t,n){var i=e("./typeof.js").default,r=e("./assertThisInitialized.js");t.exports=function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},t.exports.__esModule=!0,t.exports.default=t.exports},{"./assertThisInitialized.js":1,"./typeof.js":15}],12:[function(e,t,n){function i(e,n){return t.exports=i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},t.exports.__esModule=!0,t.exports.default=t.exports,i(e,n)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},{}],13:[function(e,t,n){var i=e("./typeof.js").default;t.exports=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},t.exports.__esModule=!0,t.exports.default=t.exports},{"./typeof.js":15}],14:[function(e,t,n){var i=e("./typeof.js").default,r=e("./toPrimitive.js");t.exports=function(e){var t=r(e,"string");return"symbol"==i(t)?t:t+""},t.exports.__esModule=!0,t.exports.default=t.exports},{"./toPrimitive.js":13,"./typeof.js":15}],15:[function(e,t,n){function i(e){return t.exports=i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,i(e)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},{}],16:[function(e,t,n){var i=e("./getPrototypeOf.js"),r=e("./setPrototypeOf.js"),o=e("./isNativeFunction.js"),a=e("./construct.js");function s(e){var n="function"==typeof Map?new Map:void 0;return t.exports=s=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,i(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports,s(e)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},{"./construct.js":3,"./getPrototypeOf.js":6,"./isNativeFunction.js":9,"./setPrototypeOf.js":12}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.defaultConfig=void 0;n.defaultConfig={id:null,ifExists:"focus",title:"New Window",icon:null,x:"auto",y:"auto",width:500,height:400,minWidth:200,minHeight:150,resizableX:!0,resizableY:!0,movable:!0,closable:!0,minimizable:!0,maximizable:!0,maximizableOnDblClick:!0,enableShortcuts:!0,controlsPosition:"right",content:{html:"",iframe:{src:"",srcdoc:"",allow:"",referrerPolicy:"",loading:"lazy",sandbox:""},template:""},menu:[],menuStyle:"default",tabs:[],tabStyle:"default",tabOptions:{reorderable:!1,closable:!1,addable:!1,onAdd:void 0},contextMenu:[],focus:!0,onOpen:function(){},onClose:function(){},onFocus:function(){},onBlur:function(){},onResize:function(){},onMove:function(){},onReload:function(){}}},{}],18:[function(e,t,n){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.WinLetError=n.WinLetBaseError=n.SimpleError=void 0;var r=i(e("@babel/runtime/helpers/createClass")),o=i(e("@babel/runtime/helpers/classCallCheck")),a=i(e("@babel/runtime/helpers/possibleConstructorReturn")),s=i(e("@babel/runtime/helpers/getPrototypeOf")),l=i(e("@babel/runtime/helpers/inherits")),c=i(e("@babel/runtime/helpers/wrapNativeSuper"));function u(e,t,n){return t=(0,s.default)(t),(0,a.default)(e,d()?Reflect.construct(t,n||[],(0,s.default)(e).constructor):t.apply(e,n))}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(d=function(){return!!e})()}var f=n.WinLetBaseError=function(e){function t(e){var n;(0,o.default)(this,t),(n=u(this,t,[e])).name=n.constructor.name;var i=Error;return i.captureStackTrace&&i.captureStackTrace(n,n.constructor),n}return(0,l.default)(t,e),(0,r.default)(t)}((0,c.default)(Error)),p=n.SimpleError=function(e){function t(e){return(0,o.default)(this,t),u(this,t,[e])}return(0,l.default)(t,e),(0,r.default)(t)}(f);n.WinLetError=function(e){function t(){return(0,o.default)(this,t),u(this,t,arguments)}return(0,l.default)(t,e),(0,r.default)(t)}(p)},{"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/getPrototypeOf":6,"@babel/runtime/helpers/inherits":7,"@babel/runtime/helpers/interopRequireDefault":8,"@babel/runtime/helpers/possibleConstructorReturn":11,"@babel/runtime/helpers/wrapNativeSuper":16}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LIBRARY_NAME=void 0;n.LIBRARY_NAME="winlet"},{}],20:[function(e,t,n){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=i(e("@babel/runtime/helpers/classCallCheck")),o=i(e("@babel/runtime/helpers/createClass")),a=i(e("@babel/runtime/helpers/possibleConstructorReturn")),s=i(e("@babel/runtime/helpers/getPrototypeOf")),l=i(e("@babel/runtime/helpers/inherits")),c=i(e("@babel/runtime/helpers/defineProperty")),u=e("../const/config"),d=e("../const/errors"),f=e("../const/types"),p=i(e("../libs/baseclass")),h=i(e("../libs/utils"));function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(b=function(){return!!e})()}n.default=function(e){function t(e,n){var i,o,l,p;if((0,r.default)(this,t),o=this,l=t,l=(0,s.default)(l),i=(0,a.default)(o,b()?Reflect.construct(l,p||[],(0,s.default)(o).constructor):l.apply(o,p)),(0,c.default)(i,"state","normal"),(0,c.default)(i,"lastState",{x:0,y:0,width:0,height:0}),(0,c.default)(i,"focused",!1),(0,c.default)(i,"DRAG_THRESHOLD",5),(0,c.default)(i,"tabs",[]),(0,c.default)(i,"addTabBtn",null),(0,c.default)(i,"isMenuOpen",!1),(0,c.default)(i,"boundGlobalClickHandler",null),(0,c.default)(i,"MOBILE_CONTEXT_MENU_TIMEOUT",700),(0,c.default)(i,"contextMenuTimer",null),i.id=e.id||h.default.generateId("window"),e.id){var v=document.getElementById(e.id);if(v&&v.classList.contains("".concat(f.LIBRARY_NAME,"-window")))throw new d.WinLetError('WinLet: Window with ID "'.concat(e.id,'" already exists. New window will not be created.'))}return i.manager=n,i.options=h.default.deepMerge(u.defaultConfig,e),i.el=i.createDOM(),"merged"===i.options.tabStyle&&i.el.classList.add("".concat(f.LIBRARY_NAME,"-tab-style-merged")),"merged"===i.options.menuStyle&&i.el.classList.add("".concat(f.LIBRARY_NAME,"-menu-style-merged")),i.titleBarEl=i.el.querySelector(".".concat(f.LIBRARY_NAME,"-title-bar")),i.iconEl=i.el.querySelector(".".concat(f.LIBRARY_NAME,"-icon")),i.titleEl=i.el.querySelector(".".concat(f.LIBRARY_NAME,"-title")),i.contentEl=i.el.querySelector(".".concat(f.LIBRARY_NAME,"-content")),i.applyOptions(),i.setupEventListeners(),i.options.onOpen(i),i}return(0,l.default)(t,e),(0,o.default)(t,[{key:"createDOM",value:function(){var e=document.createElement("div");e.className="".concat(f.LIBRARY_NAME,"-window"),e.id=this.id;var t=[];this.options.resizableY&&t.push('<div class="'.concat(f.LIBRARY_NAME,'-resize-handle n"></div>'),'<div class="'.concat(f.LIBRARY_NAME,'-resize-handle s"></div>')),this.options.resizableX&&t.push('<div class="'.concat(f.LIBRARY_NAME,'-resize-handle w"></div>'),'<div class="'.concat(f.LIBRARY_NAME,'-resize-handle e"></div>')),this.options.resizableX&&this.options.resizableY&&t.push('<div class="'.concat(f.LIBRARY_NAME,'-resize-handle nw"></div>'),'<div class="'.concat(f.LIBRARY_NAME,'-resize-handle ne"></div>'),'<div class="'.concat(f.LIBRARY_NAME,'-resize-handle sw"></div>'),'<div class="'.concat(f.LIBRARY_NAME,'-resize-handle se"></div>'));var n=t.join(""),i=this.options.menu.length>0,r=this.options.tabs.length>0,o="merged"===this.options.menuStyle&&i,a="merged"===this.options.tabStyle&&r,s='\n            <div class="'.concat(f.LIBRARY_NAME,'-controls">\n                ').concat(this.options.minimizable?'<input class="'.concat(f.LIBRARY_NAME,"-control-btn ").concat(f.LIBRARY_NAME,'-minimize-btn" type="button" value="＿" title="Minimize" />'):"","\n                ").concat(this.options.maximizable?'<input class="'.concat(f.LIBRARY_NAME,"-control-btn ").concat(f.LIBRARY_NAME,'-maximize-btn" type="button" value="□" title="Maximize" />'):"","\n                ").concat(this.options.closable?'<input class="'.concat(f.LIBRARY_NAME,"-control-btn ").concat(f.LIBRARY_NAME,'-close-btn" type="button" value="╳" title="Close">'):"","\n            </div>"),l='\n            <div class="'.concat(f.LIBRARY_NAME,'-icon"></div>\n            ').concat(o?'<div class="'.concat(f.LIBRARY_NAME,'-menu-bar"></div>'):"",'\n            <div class="').concat(f.LIBRARY_NAME,'-title"></div>\n            ').concat(a?'<div class="'.concat(f.LIBRARY_NAME,'-tab-bar"></div>'):"","\n            ").concat(s,"\n        ");return e.innerHTML='\n            <div class="'.concat(f.LIBRARY_NAME,"-title-bar ").concat(f.LIBRARY_NAME,'-us-none">\n                ').concat(l,'\n            </div>\n            <div class="').concat(f.LIBRARY_NAME,'-main-content">\n                ').concat(!o&&i?'<div class="'.concat(f.LIBRARY_NAME,'-menu-bar"></div>'):"","\n                ").concat(!a&&r?'<div class="'.concat(f.LIBRARY_NAME,'-tab-bar"></div>'):"",'\n                <div class="').concat(f.LIBRARY_NAME,'-content"></div>\n            </div>\n            ').concat(n,"\n        "),e}},{key:"applyOptions",value:function(){this.setTitle(this.options.title),this.setIcon(this.options.icon),this.setSize(this.options.width,this.options.height),this.el.style.minWidth="".concat(this.options.minWidth,"px"),this.el.style.minHeight="".concat(this.options.minHeight,"px"),"left"===this.options.controlsPosition&&this.titleBarEl.classList.add("controls-left"),this.options.tabs.length>0?this.createTabs():this.renderContent(this.contentEl,this.options.content),this.options.menu.length>0&&this.createMenu()}},{key:"renderContent",value:function(e,t){if(e.innerHTML="",t.template){var n=document.querySelector(t.template);"TEMPLATE"===(null==n?void 0:n.tagName)?e.appendChild(n.content.cloneNode(!0)):(e.innerHTML="Error: Template not found or invalid.",console.warn("WinLet Warning: Template not found or invalid."))}else if(t.html)e.innerHTML=t.html;else if(h.default.isNonEmptyObject(t.iframe)){var i=document.createElement("iframe"),r=t.iframe;r.src&&(i.src=r.src),r.srcdoc&&(i.srcdoc=r.srcdoc),r.allow&&(i.allow=r.allow),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.loading&&(i.loading=r.loading),r.sandbox&&(Array.isArray(r.sandbox)||(r.sandbox=[r.sandbox]),r.sandbox.length>0&&i.setAttribute("sandbox",r.sandbox.join(" "))),e.appendChild(i)}}},{key:"closeAllMenus",value:function(){this.el.querySelectorAll(".".concat(f.LIBRARY_NAME,"-menu-item > .").concat(f.LIBRARY_NAME,"-menu-dropdown")).forEach(function(e){e.style.display="none"}),this.isMenuOpen=!1}},{key:"createMenu",value:function(){var e=this,t=this.el.querySelector(".".concat(f.LIBRARY_NAME,"-menu-bar"));t.innerHTML="",this.options.menu.forEach(function(n){var i,r=document.createElement("div");if(r.className="".concat(f.LIBRARY_NAME,"-menu-item ").concat(f.LIBRARY_NAME,"-us-none"),r.textContent=null!==(i=n.name)&&void 0!==i?i:"",n.items){var o=e.createDropdownMenu(n.items);r.addEventListener("click",function(t){t.stopPropagation();var n="block"===o.style.display;e.closeAllMenus(),n||(o.style.display="block",e.isMenuOpen=!0)}),r.addEventListener("mouseenter",function(){e.isMenuOpen&&(e.closeAllMenus(),o.style.display="block",e.isMenuOpen=!0)}),r.appendChild(o)}t.appendChild(r)})}},{key:"createDropdownMenu",value:function(e){var t=this,n=document.createElement("ul");return n.className="".concat(f.LIBRARY_NAME,"-menu-dropdown"),e.forEach(function(e){var i=document.createElement("li");if(e.separator)i.className="separator";else{var r,o=null!==(r=e.name)&&void 0!==r?r:"";if(o="<span>".concat(o,"</span>"),t.options.enableShortcuts&&e.shortcut&&(o+='<span class="'.concat(f.LIBRARY_NAME,'-shortcut-text">(').concat(e.shortcut,")</span>")),i.innerHTML='<div class="'.concat(f.LIBRARY_NAME,'-menu-dropdown-item">').concat(o,"</div>"),i.addEventListener("click",function(n){var i;n.stopPropagation(),t.closeAllMenus(),null===(i=e.action)||void 0===i||i.call(e,t)}),e.items){i.classList.add("has-submenu");var a=t.createDropdownMenu(e.items);i.appendChild(a)}}n.appendChild(i)}),n}},{key:"createTabs",value:function(){var e,t=this,n=this.el.querySelector(".".concat(f.LIBRARY_NAME,"-tab-bar"));n.innerHTML="",this.tabs=[];var i=null!==(e=this.options.tabOptions)&&void 0!==e?e:{};this.options.tabs.forEach(function(e,n){t.createTabElement(e,n)}),i.addable&&(this.addTabBtn=document.createElement("div"),this.addTabBtn.className="".concat(f.LIBRARY_NAME,"-tab-add-btn"),this.addTabBtn.textContent="+",this.addTabBtn.addEventListener("click",function(e){var n,r=null===(n=i.onAdd)||void 0===n?void 0:n.call(i,t);if(r){t.options.tabs.push(r);var o=t.options.tabs.length-1;t.createTabElement(r,o),t.activateTab(o)}}),n.appendChild(this.addTabBtn)),this.tabs.length>0&&this.activateTab(0)}},{key:"createTabElement",value:function(e,t){var n,i=this,r=this.el.querySelector(".".concat(f.LIBRARY_NAME,"-tab-bar")),o=null!==(n=this.options.tabOptions)&&void 0!==n?n:{},a=document.createElement("div");a.className="".concat(f.LIBRARY_NAME,"-tab"),a.dataset.tabId=t.toString();var s=document.createElement("span");if(s.textContent=e.title,a.appendChild(s),r.insertBefore(a,this.addTabBtn),o.closable){var l=document.createElement("span");l.className="".concat(f.LIBRARY_NAME,"-tab-close-btn"),l.innerHTML="&times;",l.addEventListener("click",function(e){e.stopPropagation(),i.closeTab(t)}),a.appendChild(l)}var c=document.createElement("div");c.className="".concat(f.LIBRARY_NAME,"-tab-content"),this.contentEl.appendChild(c),this.renderContent(c,e.content),a.addEventListener("click",function(e){i.activateTab(+a.dataset.tabId)}),this.tabs.splice(t,0,{tabEl:a,contentEl:c}),o.reorderable&&this.makeTabReorderable(a)}},{key:"makeTabReorderable",value:function(e){e.draggable=!0,e.addEventListener("dragstart",function(t){t.dataTransfer.setData("text/plain",e.dataset.tabId),e.classList.add("dragging")}),e.addEventListener("dragend",function(){return e.classList.remove("dragging")}),e.addEventListener("dragover",function(t){t.preventDefault();var n=document.querySelector(".".concat(f.LIBRARY_NAME,"-tab.dragging"));if(n&&n!==e){var i=e.getBoundingClientRect(),r=t.clientX>i.left+i.width/2,o=e.parentNode;r?o.insertBefore(n,e.nextSibling):o.insertBefore(n,e)}},{passive:!1}),e.addEventListener("drop",function(e){e.preventDefault()},{passive:!1})}},{key:"closeTab",value:function(e){if(this.tabs[e].tabEl.remove(),this.tabs[e].contentEl.remove(),this.tabs.splice(e,1),this.options.tabs.splice(e,1),this.tabs.forEach(function(e,t){return e.tabEl.dataset.tabId=t.toString()}),this.tabs.length>0){var t=Math.max(0,e-1);this.activateTab(t)}}},{key:"activateTab",value:function(e){this.tabs.forEach(function(t,n){t.tabEl.classList.toggle("active",n===e),t.contentEl.classList.toggle("active",n===e)})}},{key:"setupEventListeners",value:function(){var e=this;this.el.addEventListener("click",function(){return e.focus()},!0),this.el.addEventListener("focusin",function(){return e.focus()}),this.boundGlobalClickHandler=function(){e.isMenuOpen&&e.closeAllMenus()},document.addEventListener("click",this.boundGlobalClickHandler);var t=this.el.querySelector(".".concat(f.LIBRARY_NAME,"-close-btn"));null==t||t.addEventListener("click",function(t){t.stopPropagation(),e.close()});var n=this.el.querySelector(".".concat(f.LIBRARY_NAME,"-maximize-btn"));null==n||n.addEventListener("click",function(t){t.stopPropagation(),e.toggleMaximize()});var i=this.el.querySelector(".".concat(f.LIBRARY_NAME,"-minimize-btn"));if(null==i||i.addEventListener("click",function(t){t.stopPropagation(),e.minimize()}),this.options.movable&&this.makeMovable(),(this.options.resizableX||this.options.resizableY)&&this.makeResizable(),this.options.contextMenu.length>0){this.el.addEventListener("contextmenu",function(t){t.preventDefault(),e.manager.showContextMenu(t.clientX,t.clientY,e.options.contextMenu,e)},{passive:!1}),this.el.addEventListener("pointerdown",function(t){"touch"===t.pointerType&&(e.contextMenuTimer=window.setTimeout(function(){e.contextMenuTimer=null,e.manager.showContextMenu(t.clientX,t.clientY,e.options.contextMenu,e)},e.MOBILE_CONTEXT_MENU_TIMEOUT))});var r=function(){e.contextMenuTimer&&(clearTimeout(e.contextMenuTimer),e.contextMenuTimer=null)};this.el.addEventListener("pointermove",r),this.el.addEventListener("pointerup",r),this.el.addEventListener("pointercancel",r)}}},{key:"makeMovable",value:function(){var e=this;this.titleBarEl.addEventListener("pointerdown",function(t){if(!t.target.closest(".".concat(f.LIBRARY_NAME,"-control-btn, .").concat(f.LIBRARY_NAME,"-resize-handle, .").concat(f.LIBRARY_NAME,"-menu-item, .").concat(f.LIBRARY_NAME,"-tab, .").concat(f.LIBRARY_NAME,"-tab-add-btn"))&&0===t.button){t.preventDefault(),e.focus();var n,i,r=t.clientX,o=t.clientY,a=!1,s=function(s){if(!a){var l=Math.abs(s.clientX-r),c=Math.abs(s.clientY-o);if(!(l>e.DRAG_THRESHOLD||c>e.DRAG_THRESHOLD))return;if(a=!0,e.el.setPointerCapture(t.pointerId),e.contentEl.style.pointerEvents="none","maximized"===e.state){var u=e.lastState.width,d=t.clientX/e.el.offsetWidth,f=e.titleBarEl.getBoundingClientRect(),p=t.clientY-f.top,h=t.clientX-u*d,b=t.clientY-p;e.restore(),e.setPosition(h,b)}n=e.el.offsetLeft,i=e.el.offsetTop}var v=n+s.clientX-r,m=i+s.clientY-o;e.setPosition(v,m)};document.addEventListener("pointermove",s),document.addEventListener("pointerup",function(){document.removeEventListener("pointermove",s),document.removeEventListener("pointerup",s),a&&(e.el.releasePointerCapture(t.pointerId),e.contentEl.style.pointerEvents="auto",e.options.onMove(e))})}},{passive:!1}),this.options.maximizable&&this.titleBarEl.addEventListener("dblclick",function(t){if(e.options.maximizableOnDblClick){if(t.target.closest(".".concat(f.LIBRARY_NAME,"-control-btn")))return;e.toggleMaximize()}})}},{key:"makeResizable",value:function(){var e=this;this.el.querySelectorAll(".".concat(f.LIBRARY_NAME,"-resize-handle")).forEach(function(t){t.addEventListener("pointerdown",function(n){if(0===n.button){n.preventDefault(),n.stopPropagation(),e.focus(),e.contentEl.style.pointerEvents="none",t.setPointerCapture(n.pointerId);var i=t.className.replace("".concat(f.LIBRARY_NAME,"-resize-handle "),""),r=n.clientX,o=n.clientY,a=e.el,s=a.offsetWidth,l=a.offsetHeight,c=a.offsetLeft,u=a.offsetTop,d=e.options,p=d.minWidth,h=d.minHeight,b=function(t){var n=s,a=l,d=c,f=u,b=t.clientX-r,v=t.clientY-o;i.includes("e")&&(n=Math.max(p,s+b)),i.includes("w")&&(n=Math.max(p,s-b),d=c+b),i.includes("s")&&(a=Math.max(h,l+v)),i.includes("n")&&(a=Math.max(h,l-v),f=u+v),e.setSize(n,a),e.setPosition(d,f)},v=function(){t.releasePointerCapture(n.pointerId),e.contentEl.style.pointerEvents="auto",document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",v),e.options.onResize(e)};document.addEventListener("pointermove",b),document.addEventListener("pointerup",v)}},{passive:!1})})}},{key:"isFontAwesome",value:function(e){var t=e.trim().split(/\s+/),n=t.some(function(e){return/^fa[bslr]?$/.test(e)}),i=t.some(function(e){return/^fa-[a-z0-9-]+$/.test(e)});return n&&i}},{key:"close",value:function(){this.boundGlobalClickHandler&&document.removeEventListener("click",this.boundGlobalClickHandler),this.options.onClose(this),this.manager.destroyWindow(this.id)}},{key:"minimize",value:function(){"minimized"!==this.state&&("normal"!==this.state&&this.restore(),this.state="minimized",this.el.classList.add("minimized"),this.blur())}},{key:"toggleMaximize",value:function(){"maximized"===this.state?this.restore():this.maximize()}},{key:"maximize",value:function(){if("maximized"!==this.state){"normal"!==this.state&&this.restore(),this.lastState={x:this.el.offsetLeft,y:this.el.offsetTop,width:this.el.offsetWidth,height:this.el.offsetHeight},this.state="maximized",this.el.classList.add("maximized"),this.setPosition(0,0),this.setSize("100%","100%");var e=this.el.querySelector(".".concat(f.LIBRARY_NAME,"-maximize-btn"));e&&(e.title="Restore",e.value="❏")}}},{key:"restore",value:function(){if("minimized"===this.state)this.state="normal",this.el.classList.remove("minimized"),this.focus();else if("maximized"===this.state){this.state="normal",this.el.classList.remove("maximized"),this.setSize(this.lastState.width,this.lastState.height),this.setPosition(this.lastState.x,this.lastState.y);var e=this.el.querySelector(".".concat(f.LIBRARY_NAME,"-maximize-btn"));e&&(e.title="Maximize",e.value="□")}}},{key:"focus",value:function(){this.focused||(this.manager.focusWindow(this),this.focused=!0,this.el.classList.add("active"),this.options.onFocus(this))}},{key:"blur",value:function(){this.focused&&(this.focused=!1,this.el.classList.remove("active"),this.options.onBlur(this))}},{key:"reload",value:function(){var e=this;if(!1!==this.options.onReload(this)){var t=function(t,n){if(h.default.isNonEmptyObject(n.iframe)){var i=t.querySelector("iframe");if(i&&i.src&&!n.iframe.srcdoc)try{var r;null===(r=i.contentWindow)||void 0===r||r.location.reload()}catch(i){console.warn("WinLet: Cross-origin iframe could not be reloaded directly. Recreating iframe element.",i),e.renderContent(t,n)}else e.renderContent(t,n)}else e.renderContent(t,n)};if(this.options.tabs.length>0){var n=this.tabs.findIndex(function(e){return e.tabEl.classList.contains("active")});if(n>-1){var i=this.tabs[n],r=this.options.tabs[n].content;t(i.contentEl,r)}}else t(this.contentEl,this.options.content)}}},{key:"getTitle",value:function(){return this.options.title}},{key:"setTitle",value:function(e){this.options.title=e,this.titleEl.textContent=h.default.sanitizeHTML(e)}},{key:"setIcon",value:function(e){if(this.options.icon=e,this.iconEl.innerHTML="",e)if(this.isFontAwesome(e)){var t=document.createElement("i");t.className=e,this.iconEl.appendChild(t)}else{var n=document.createElement("img");n.src=e,n.alt="window icon",this.iconEl.appendChild(n)}}},{key:"getPosition",value:function(){return"maximized"===this.state?{x:this.lastState.x,y:this.lastState.y}:{x:this.el.offsetLeft,y:this.el.offsetTop}}},{key:"setPosition",value:function(e,t){if(this.manager.container){var n,i,r=this.manager.container.getBoundingClientRect(),o=this.el.offsetWidth,a=this.el.offsetHeight;switch(e){case"left":n=0;break;case"center":n=(r.width-o)/2;break;case"right":n=r.width-o;break;default:n=e}switch(t){case"top":i=0;break;case"center":i=(r.height-a)/2;break;case"bottom":i=r.height-a;break;default:i=t}this.el.style.left="".concat(Math.min(Math.max(150-o,n),r.width-20),"px"),this.el.style.top="".concat(Math.min(Math.max(0,i),r.height-50),"px")}else console.warn("WinLet Warning: setPosition called before manager is initialized.")}},{key:"getSize",value:function(){return"maximized"===this.state?{width:this.lastState.width,height:this.lastState.height}:{width:this.el.offsetWidth,height:this.el.offsetHeight}}},{key:"setSize",value:function(e,t){this.el.style.width="number"==typeof e?"".concat(e,"px"):e,this.el.style.height="number"==typeof t?"".concat(t,"px"):t}}])}(p.default)},{"../const/config":17,"../const/errors":18,"../const/types":19,"../libs/baseclass":23,"../libs/utils":24,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/defineProperty":5,"@babel/runtime/helpers/getPrototypeOf":6,"@babel/runtime/helpers/inherits":7,"@babel/runtime/helpers/interopRequireDefault":8,"@babel/runtime/helpers/possibleConstructorReturn":11}],21:[function(e,t,n){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=i(e("@babel/runtime/helpers/typeof")),o=i(e("@babel/runtime/helpers/classCallCheck")),a=i(e("@babel/runtime/helpers/createClass")),s=i(e("@babel/runtime/helpers/possibleConstructorReturn")),l=i(e("@babel/runtime/helpers/getPrototypeOf")),c=i(e("@babel/runtime/helpers/inherits")),u=i(e("@babel/runtime/helpers/defineProperty")),d=e("../const/config"),f=e("../const/errors"),p=e("../const/types"),h=i(e("../libs/baseclass")),b=i(e("../libs/utils")),v=i(e("../style/styles")),m=i(e("./window"));function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(y=function(){return!!e})()}n.default=function(e){function t(e){var n,i,r,a;return(0,o.default)(this,t),i=this,r=t,r=(0,l.default)(r),n=(0,s.default)(i,y()?Reflect.construct(r,a||[],(0,l.default)(i).constructor):r.apply(i,a)),(0,u.default)(n,"container",null),(0,u.default)(n,"windows",new Map),(0,u.default)(n,"zIndexCounter",1e3),(0,u.default)(n,"activeWindow",null),(0,u.default)(n,"contextMenuEl",null),(0,u.default)(n,"isInitialized",!1),(0,u.default)(n,"lastAutoPosition",null),(0,u.default)(n,"CASCADE_OFFSET",30),n.globalConfig=e,n}return(0,c.default)(t,e),(0,a.default)(t,[{key:"applyGlobalConfig",value:function(e){Object.assign(this.globalConfig,e)}},{key:"init",value:function(){var e=this;if(!this.isInitialized){if(!document.body)throw new f.WinLetError("Cannot initialize before document.body is ready. Please call WinLet.init() after DOMContentLoaded.");if(!document.getElementById("".concat(p.LIBRARY_NAME,"-styles"))){var t=document.createElement("style");t.id="".concat(p.LIBRARY_NAME,"-styles"),t.innerHTML=this.getStyleData(),document.head.appendChild(t)}var n=document.querySelector(".".concat(p.LIBRARY_NAME,"-container"));n||((n=document.createElement("div")).className="".concat(p.LIBRARY_NAME,"-container"),document.body.appendChild(n)),this.container=n,window.addEventListener("blur",function(){requestAnimationFrame(function(){var t=document.activeElement;if("IFRAME"===(null==t?void 0:t.tagName)){var n=t.closest(".".concat(p.LIBRARY_NAME,"-window"));if(n){var i=e.windows.get(n.id);i&&e.activeWindow!==i&&i.focus()}}})}),document.addEventListener("pointerdown",function(){requestAnimationFrame(function(){var t=document.activeElement;if("IFRAME"===(null==t?void 0:t.tagName)){var n=t.closest(".".concat(p.LIBRARY_NAME,"-window"));if(n){var i=e.windows.get(n.id);i&&e.activeWindow!==i&&i.focus()}}})},!0),this.container.addEventListener("pointerdown",function(t){if(t.target===e.container&&e.activeWindow){var n=e.activeWindow;e.activeWindow=null,n.blur()}}),document.addEventListener("click",function(){return e.hideContextMenu()}),window.addEventListener("message",function(t){if(t.data&&"winlet:createWindow"===t.data.type&&"object"===(0,r.default)(t.data.options)){var n,i=!1,o=x(e.windows.values());try{for(o.s();!(n=o.n()).done;){var a=n.value.el.querySelector("iframe");if(a&&a.contentWindow===t.source){i=!0;break}}}catch(e){o.e(e)}finally{o.f()}i?e.createWindow(t.data.options):console.warn("WinLet: Untrusted source attempted to create a window.",t.origin)}}),this.isInitialized=!0,this.setupShortcutListeners()}}},{key:"setupShortcutListeners",value:function(){var e=this;document.addEventListener("keydown",function(t){if(e.globalConfig.windowSwitchShortcut){var n=e.parseShortcut(e.globalConfig.windowSwitchShortcut);if(t.key.toLowerCase()===n.key.toLowerCase()&&t.ctrlKey===n.ctrl&&t.altKey===n.alt&&t.shiftKey===n.shift){t.preventDefault();var i=Array.from(e.windows.values()),r=e.activeWindow?i.findIndex(function(t){return t===e.activeWindow}):-1,o=i[(r+1)%i.length];return"minimized"===o.state&&o.restore(),void o.focus()}}var a=e.activeWindow;if(a&&a.options.enableShortcuts){var s=function(n){var i,r=x(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o.shortcut){var l,c=e.parseShortcut(o.shortcut);if(t.key.toUpperCase()===c.key.toUpperCase()&&t.ctrlKey===c.ctrl&&t.altKey===c.alt&&t.shiftKey===c.shift)return t.preventDefault(),t.stopPropagation(),null===(l=o.action)||void 0===l||l.call(o,a),!0}if(o.items&&s(o.items))return!0}}catch(e){r.e(e)}finally{r.f()}return!1};s(a.options.menu)}},{passive:!1})}},{key:"ensureInitialized",value:function(){this.isInitialized||this.init()}},{key:"getStyleData",value:function(){return v.default.replace(/\$\[(\w+)\]/g,function(e,t){return"prefix"===t?p.LIBRARY_NAME:t})}},{key:"createWindow",value:function(e){var t;this.ensureInitialized();var n=null!==(t=e.ifExists)&&void 0!==t?t:"focus";if(e.id&&"create"!==n){var i=this.getWindow(e.id);if(i){if("prevent"===n)return i;if("focus"===n)return"minimized"===i.state&&i.restore(),i.focus(),i}}var r=b.default.deepMerge(d.defaultConfig,e);if("auto"===r.x||"auto"===r.y){var o,a,s=r.width,l=r.height,c=this.container.getBoundingClientRect();null===this.lastAutoPosition?(o=0,a=0):(o=this.lastAutoPosition.x+this.CASCADE_OFFSET,a=this.lastAutoPosition.y+this.CASCADE_OFFSET),o+s>c.width&&(o=0),a+l>c.height&&(a=0),r.x=o,r.y=a,this.lastAutoPosition={x:o,y:a}}var u=new m.default(r,this);return this.windows.set(u.id,u),this.container.appendChild(u.el),u.setPosition(r.x,r.y),r.focus?(this.focusWindow(u),u.focus()):u.el.style.zIndex="".concat(++this.zIndexCounter),u}},{key:"destroyWindow",value:function(e){this.ensureInitialized();var t=this.windows.get(e);if(t&&(t.el.remove(),this.windows.delete(e),this.activeWindow===t)){this.activeWindow=null;var n=Array.from(this.windows.values()).pop();n&&this.focusWindow(n)}}},{key:"focusWindow",value:function(e){var t;this.ensureInitialized(),this.activeWindow!==e&&(null===(t=this.activeWindow)||void 0===t||t.blur(),this.activeWindow=e,e.el.style.zIndex="".concat(++this.zIndexCounter))}},{key:"getWindow",value:function(e){return this.ensureInitialized(),this.windows.get(e)}},{key:"getActiveWindow",value:function(){return this.ensureInitialized(),this.activeWindow}},{key:"showContextMenu",value:function(e,t,n,i){var r=this;this.ensureInitialized(),this.hideContextMenu(),this.contextMenuEl=document.createElement("ul"),this.contextMenuEl.className="".concat(p.LIBRARY_NAME,"-context-menu"),n.forEach(function(e){var t,n=document.createElement("li");e.separator?n.className="separator":(n.textContent=null!==(t=e.name)&&void 0!==t?t:"",n.addEventListener("click",function(t){var n;t.stopPropagation(),null===(n=e.action)||void 0===n||n.call(e,i),r.hideContextMenu()}));r.contextMenuEl.appendChild(n)}),this.container.appendChild(this.contextMenuEl);var o=this.contextMenuEl,a=o.offsetWidth,s=o.offsetHeight,l=window,c=l.innerWidth,u=l.innerHeight;this.contextMenuEl.style.left="".concat(e+a>c?c-a:e,"px"),this.contextMenuEl.style.top="".concat(t+s>u?u-s:t,"px")}},{key:"hideContextMenu",value:function(){var e;null===(e=this.contextMenuEl)||void 0===e||e.remove(),this.contextMenuEl=null}},{key:"parseShortcut",value:function(e){var t=e.split("+"),n=t.pop()||"";return{ctrl:t.includes("Ctrl"),alt:t.includes("Alt"),shift:t.includes("Shift"),key:n}}}])}(h.default)},{"../const/config":17,"../const/errors":18,"../const/types":19,"../libs/baseclass":23,"../libs/utils":24,"../style/styles":25,"./window":20,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/defineProperty":5,"@babel/runtime/helpers/getPrototypeOf":6,"@babel/runtime/helpers/inherits":7,"@babel/runtime/helpers/interopRequireDefault":8,"@babel/runtime/helpers/possibleConstructorReturn":11,"@babel/runtime/helpers/typeof":15}],22:[function(e,t,n){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("./const/config"),o=i(e("./function/window_manager")),a=i(e("./libs/utils")),s=e("./version"),l={windowSwitchShortcut:"Ctrl+`"},c=new o.default(l),u={init:function(){c.init()},createWindow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.createWindow(e)},getWindow:function(e){return c.getWindow(e)},getActiveWindow:function(){return c.getActiveWindow()},setDefaultConfig:function(e){a.default.deepMerge(r.defaultConfig,e)},setGlobalConfig:function(e){Object.assign(l,e),c.applyGlobalConfig(l)},get version(){return s.LIB_VERSION}};window.WinLet=u;n.default=u},{"./const/config":17,"./function/window_manager":21,"./libs/utils":24,"./version":26,"@babel/runtime/helpers/interopRequireDefault":8}],23:[function(e,t,n){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=i(e("@babel/runtime/helpers/createClass")),o=i(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,r.default)(function e(){(0,o.default)(this,e)})},{"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/interopRequireDefault":8}],24:[function(e,t,n){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=i(e("@babel/runtime/helpers/defineProperty")),o=i(e("@babel/runtime/helpers/classCallCheck")),a=i(e("@babel/runtime/helpers/createClass")),s=i(e("@babel/runtime/helpers/possibleConstructorReturn")),l=i(e("@babel/runtime/helpers/getPrototypeOf")),c=i(e("@babel/runtime/helpers/inherits")),u=i(e("./baseclass"));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}n.default=function(e){function t(){return(0,o.default)(this,t),e=this,n=t,i=arguments,n=(0,l.default)(n),(0,s.default)(e,f()?Reflect.construct(n,i||[],(0,l.default)(e).constructor):n.apply(e,i));var e,n,i}return(0,c.default)(t,e),(0,a.default)(t,null,[{key:"generateId",value:function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"win","-").concat(Math.random().toString(36).substring(2,9))}},{key:"deepMerge",value:function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=t[i],a=e[i];Array.isArray(o)?n[i]=o:n[i]=o instanceof Object&&"function"!=typeof o&&a instanceof Object?this.deepMerge(a,o):o}return n}},{key:"isNonEmptyObject",value:function(e){if(!e)return!1;for(var t in e)return!0;return!1}},{key:"sanitizeHTML",value:function(e){var t=document.createElement("div");return t.textContent=e,t.innerHTML}}])}(u.default)},{"./baseclass":23,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/defineProperty":5,"@babel/runtime/helpers/getPrototypeOf":6,"@babel/runtime/helpers/inherits":7,"@babel/runtime/helpers/interopRequireDefault":8,"@babel/runtime/helpers/possibleConstructorReturn":11}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default="\n:root {\n    --$[prefix]-bg: #f0f0f0;\n    --$[prefix]-border: #a0a0a0;\n    --$[prefix]-title-bar-height: 32px;\n    --$[prefix]-title-bar-bg: #e0e0e0;\n    --$[prefix]-title-bar-active-bg: #0078d7;\n    --$[prefix]-title-text-color: #000;\n    --$[prefix]-title-text-active-color: #fff;\n    --$[prefix]-control-bg: #d0d0d0;\n    --$[prefix]-control-hover-bg: #e5e5e5;\n    --$[prefix]-control-close-hover-bg: #e81123;\n    --$[prefix]-control-close-hover-color: #fff;\n    --$[prefix]-menu-bg: #fff;\n    --$[prefix]-menu-border: #ccc;\n    --$[prefix]-menu-item-color: #000;\n    --$[prefix]-menu-item-hover-bg: #0078d7;\n    --$[prefix]-menu-item-hover-color: #fff;\n    --$[prefix]-tab-bg: #dcdcdc;\n    --$[prefix]-tab-active-bg: #f0f0f0;\n    --$[prefix]-tab-border: #b0b0b0;\n    --$[prefix]-resize-handle-size: 8px;\n    --$[prefix]-resize-handle-offset: -4px;\n}\n\n.$[prefix]-us-none {\n    user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n}\n\n.$[prefix]-us-auto {\n    user-select: auto;\n    -webkit-user-select: auto;\n    -ms-user-select: auto;\n}\n\n\n.$[prefix]-container {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n    overflow: hidden;\n    z-index: 999;\n}\n\n.$[prefix]-window {\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n    min-width: 200px;\n    min-height: 150px;\n    border: 1px solid var(--$[prefix]-border);\n    background-color: var(--$[prefix]-bg);\n    box-shadow: 0 5px 15px rgba(0,0,0,0.3);\n    border-radius: 5px;\n    overflow: hidden;\n    pointer-events: all;\n    transition: opacity 0.1s, transform 0.1s;\n    touch-action: none;\n}\n\n.$[prefix]-window.minimized {\n    display: none;\n}\n\n.$[prefix]-window.maximized {\n    border-radius: 0;\n    border: none;\n}\n\n/* Focus State */\n.$[prefix]-window.active .$[prefix]-title-bar {\n    background-color: var(--$[prefix]-title-bar-active-bg);\n    color: var(--$[prefix]-title-text-active-color);\n}\n.$[prefix]-window.active .$[prefix]-title-bar .$[prefix]-title {\n    color: var(--$[prefix]-title-text-active-color);\n}\n\n.$[prefix]-title-bar {\n    display: flex;\n    align-items: center;\n    height: var(--$[prefix]-title-bar-height);\n    background-color: var(--$[prefix]-title-bar-bg);\n    color: var(--$[prefix]-title-text-color);\n    cursor: move;\n    flex-shrink: 0;\n    touch-action: none;\n}\n\n.$[prefix]-title-bar.controls-left {\n    flex-direction: row-reverse;\n}\n\n.$[prefix]-icon {\n    min-width: calc(var(--$[prefix]-title-bar-height) * 0.75);\n    height: calc(var(--$[prefix]-title-bar-height) * 0.75);\n    margin: 0 4px;\n    pointer-events: none;\n    flex-shrink: 0;\n}\n\n.$[prefix]-icon i {\n    font-size: calc(var(--$[prefix]-title-bar-height) * 0.5);\n    line-height: calc(var(--$[prefix]-title-bar-height) * 0.75);\n    text-align: center;\n    display: block;\n    width: 100%;\n    height: 100%;\n}\n\n.$[prefix]-icon img {\n    display: block;\n    width: 100%;\n    height: 100%;\n}\n\n.$[prefix]-title {\n    flex-grow: 1;\n    padding: 0 8px;\n    font-family: sans-serif;\n    font-size: calc(var(--$[prefix]-title-bar-height) * 0.44);\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    pointer-events: none;\n}\n\n.$[prefix]-title-bar.controls-left .$[prefix]-title {\n    text-align: right;\n}\n\n.$[prefix]-controls {\n    display: flex;\n    height: 100%;\n    margin-left: auto;\n    flex-shrink: 0;\n}\n\n.$[prefix]-title-bar.controls-left .$[prefix]-controls {\n    margin-left: 0;\n    margin-right: auto;\n    flex-direction: row-reverse;\n}\n\n.$[prefix]-control-btn {\n    width: calc(var(--$[prefix]-title-bar-height) * 1.3);\n    height: 100%;\n    border: none;\n    box-sizing: border-box;\n    background-color: transparent;\n    font-size: calc(var(--$[prefix]-title-bar-height) * 0.5);\n    cursor: pointer;\n    text-align: center;\n    vertical-align: middle;\n    font-family: sans-serif;\n    transition: background-color 0.2s;\n    touch-action: auto;\n}\n\n.$[prefix]-control-btn:hover {\n    background-color: var(--$[prefix]-control-hover-bg);\n}\n\n.$[prefix]-control-btn.$[prefix]-close-btn:hover {\n    background-color: var(--$[prefix]-control-close-hover-bg);\n    color: var(--$[prefix]-control-close-hover-color);\n}\n\n.$[prefix]-main-content {\n    all: initial;\n    display:flex;\n    flex-direction:column;\n    flex-grow:1;\n    overflow:hidden;\n}\n\n.$[prefix]-menu-bar {\n    color: var(--$[prefix]-menu-item-color);\n    display: flex;\n    background-color: var(--$[prefix]-bg);\n    padding: 2px;\n    flex-shrink: 0;\n    border-bottom: 1px solid var(--$[prefix]-border);\n    touch-action: auto;\n}\n\n.$[prefix]-menu-item {\n    font-family: sans-serif;\n    font-size: 14px;\n    padding: 4px 8px;\n    cursor: default;\n    position: relative;\n}\n\n.$[prefix]-menu-item:hover {\n    background-color: var(--$[prefix]-menu-item-hover-bg);\n    color: var(--$[prefix]-menu-item-hover-color);\n}\n\n.$[prefix]-menu-dropdown {\n    color: var(--$[prefix]-menu-item-color);\n    display: none;\n    position: absolute;\n    top: 100%;\n    left: 0;\n    background-color: var(--$[prefix]-menu-bg);\n    border: 1px solid var(--$[prefix]-menu-border);\n    box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n    list-style: none;\n    margin: 0;\n    padding: 4px 0;\n    min-width: 150px;\n    z-index: 10;\n    touch-action: auto;\n}\n\n.$[prefix]-menu-dropdown li {\n    padding: 0 20px;\n    font-size: 14px;\n    cursor: pointer;\n}\n\n.$[prefix]-menu-dropdown li:hover {\n    background-color: var(--$[prefix]-menu-item-hover-bg);\n    color: var(--$[prefix]-menu-item-hover-color);\n}\n\n.$[prefix]-menu-dropdown li.separator {\n    height: 1px;\n    background-color: var(--$[prefix]-menu-border);\n    margin: 4px 0;\n    padding: 0;\n}\n\n.$[prefix]-menu-dropdown-item {\n    display: flex;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    width: 100%;\n    white-space: nowrap;\n}\n\n/* --- メニュー --- */\n/* サブメニューを持つ項目のスタイル */\n.$[prefix]-menu-dropdown li.has-submenu {\n    position: relative;\n}\n.$[prefix]-menu-dropdown li.has-submenu::after {\n    content: '▶';\n    position: absolute;\n    top: 50%;\n    right: 10px;\n    margin-top: -0.65em;\n    font-size: 0.8em;\n    color: inherit;\n}\n\n/* ネストされたサブメニューの表示位置 */\n.$[prefix]-menu-dropdown li.has-submenu > .$[prefix]-menu-dropdown {\n    top: -5px; /* liのpaddingを考慮 */\n    left: 100%;\n}\n\n/* サブメニューはホバーで開く */\n.$[prefix]-menu-dropdown li.has-submenu:hover > .$[prefix]-menu-dropdown {\n    display: block;\n}\n\n/* ショートカットキーテキストのスタイル */\n.$[prefix]-shortcut-text {\n    color: #666;\n    margin-left: 1em;\n}\n.$[prefix]-menu-dropdown li:hover .$[prefix]-shortcut-text {\n    color: inherit;\n}\n\n/* --- タブ --- */\n.$[prefix]-tab-bar {\n    color: var(--$[prefix]-menu-item-color);\n    overflow-x: auto;\n    overflow-y: hidden;\n    -ms-overflow-style: -ms-autohiding-scrollbar;\n    scrollbar-width: thin;\n    display: flex;\n    background-color: #e1e1e1;\n    flex-shrink: 0;\n    align-items: flex-end;\n    touch-action: auto;\n}\n\n.$[prefix]-tab-bar::-webkit-scrollbar{\n    width: 6px;\n    height: 6px;\n}\n\n.$[prefix]-tab-bar::-webkit-scrollbar-thumb {\n    background-color: rgba(100, 100, 100, 0.5);\n    border-radius: 3px;\n}\n\n.$[prefix]-tab-bar::-webkit-scrollbar-track {\n    background-color: transparent;\n}\n\n.$[prefix]-tab {\n    white-space: nowrap;\n    padding: 8px 16px;\n    font-family: sans-serif;\n    font-size: 14px;\n    cursor: pointer;\n    border-right: 1px solid var(--$[prefix]-tab-border);\n    background-color: var(--$[prefix]-tab-bg);\n}\n\n.$[prefix]-tab.active {\n    background-color: var(--$[prefix]-tab-active-bg);\n    border-bottom: 2px solid var(--$[prefix]-title-bar-active-bg);\n}\n\n.$[prefix]-tab.active .$[prefix]-tab-close-btn:hover {\n    background-color: #ddd;\n}\n\n/* ドラッグ中のタブのスタイル */\n.$[prefix]-tab.dragging {\n    opacity: 0.5;\n}\n/* タブの閉じるボタン */\n.$[prefix]-tab-close-btn {\n    margin-left: 8px;\n    padding: 0 4px;\n    border-radius: 50%;\n    cursor: pointer;\n    font-weight: bold;\n    font-size: 14px;\n    line-height: 1;\n}\n.$[prefix]-tab-close-btn:hover {\n    background-color: #ccc;\n}\n\n.$[prefix]-tab-content {\n    display: none;\n}\n\n.$[prefix]-tab-content.active {\n    display: block;\n    width: 100%;\n    height: 100%;\n}\n\n/* タブ追加ボタン */\n.$[prefix]-tab-add-btn {\n    padding: 8px;\n    font-size: 14px;\n    cursor: pointer;\n    border-bottom: 1px solid var(--$[prefix]-tab-border);\n}\n.$[prefix]-tab-add-btn:hover {\n    background-color: #e0e0e0;\n}\n\n.$[prefix]-content {\n    flex-grow: 1;\n    position: relative;\n    overflow: auto;\n    touch-action: auto;\n}\n\n.$[prefix]-content iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    border: none;\n}\n\n.$[prefix]-resize-handle {\n    position: absolute;\n    z-index: 5;\n    touch-action: none;\n}\n\n.$[prefix]-resize-handle.n { top: var(--$[prefix]-resize-handle-offset); left: 0; right: 0; height: var(--$[prefix]-resize-handle-size); cursor: n-resize; }\n.$[prefix]-resize-handle.s { bottom: var(--$[prefix]-resize-handle-offset); left: 0; right: 0; height: var(--$[prefix]-resize-handle-size); cursor: s-resize; }\n.$[prefix]-resize-handle.w { top: 0; bottom: 0; left: var(--$[prefix]-resize-handle-offset); width: var(--$[prefix]-resize-handle-size); cursor: w-resize; }\n.$[prefix]-resize-handle.e { top: 0; bottom: 0; right: var(--$[prefix]-resize-handle-offset); width: var(--$[prefix]-resize-handle-size); cursor: e-resize; }\n.$[prefix]-resize-handle.nw { top: var(--$[prefix]-resize-handle-offset); left: var(--$[prefix]-resize-handle-offset); width: var(--$[prefix]-resize-handle-size); height: var(--$[prefix]-resize-handle-size); cursor: nw-resize; }\n.$[prefix]-resize-handle.ne { top: var(--$[prefix]-resize-handle-offset); right: var(--$[prefix]-resize-handle-offset); width: var(--$[prefix]-resize-handle-size); height: var(--$[prefix]-resize-handle-size); cursor: ne-resize; }\n.$[prefix]-resize-handle.sw { bottom: var(--$[prefix]-resize-handle-offset); left: var(--$[prefix]-resize-handle-offset); width: var(--$[prefix]-resize-handle-size); height: var(--$[prefix]-resize-handle-size); cursor: sw-resize; }\n.$[prefix]-resize-handle.se { bottom: var(--$[prefix]-resize-handle-offset); right: var(--$[prefix]-resize-handle-offset); width: var(--$[prefix]-resize-handle-size); height: var(--$[prefix]-resize-handle-size); cursor: se-resize; }\n\n.$[prefix]-context-menu {\n    color: var(--$[prefix]-menu-item-color);\n    pointer-events: all;\n    position: fixed;\n    z-index: 10000;\n    background-color: var(--$[prefix]-menu-bg);\n    border: 1px solid var(--$[prefix]-menu-border);\n    box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n    list-style: none;\n    margin: 0;\n    padding: 4px 0;\n    min-width: 160px;\n}\n.$[prefix]-context-menu li {\n    padding: 6px 24px;\n    font-family: sans-serif;\n    font-size: 14px;\n    cursor: pointer;\n}\n.$[prefix]-context-menu li:hover {\n    background-color: var(--$[prefix]-menu-item-hover-bg);\n    color: var(--$[prefix]-menu-item-hover-color);\n}\n.$[prefix]-context-menu li.separator {\n    height: 1px;\n    background-color: var(--$[prefix]-menu-border);\n    margin: 4px 0;\n    padding: 0;\n}\n\n/* --- Merged Menu/Tab Styles --- */\n.$[prefix]-window.$[prefix]-menu-style-merged .$[prefix]-title-bar,\n.$[prefix]-window.$[prefix]-tab-style-merged .$[prefix]-title-bar {\n    height: auto;\n    align-items: flex-end;\n    padding: 0;\n}\n.$[prefix]-window.$[prefix]-tab-style-merged.$[prefix]-window.active .$[prefix]-title-bar {\n    background-color: var(--$[prefix]-title-bar-bg);\n}\n\n.$[prefix]-window.$[prefix]-menu-style-merged .$[prefix]-icon {\n    margin-block: auto;\n}\n\n.$[prefix]-window.$[prefix]-tab-style-merged .$[prefix]-title {\n    display: none;\n}\n.$[prefix]-window.$[prefix]-menu-style-merged .$[prefix]-title {\n    flex-grow: 1;\n    margin-block: auto;\n}\n\n.$[prefix]-window.$[prefix]-menu-style-merged .$[prefix]-menu-bar {\n    border-bottom: none;\n    background: transparent;\n    padding: 0 6px;\n    align-self: center;\n}\n.$[prefix]-window.$[prefix]-menu-style-merged .$[prefix]-menu-item {\n    line-height: var(--$[prefix]-title-bar-height);\n    padding-top: 0;\n    padding-bottom: 0;\n}\n\n.$[prefix]-window.$[prefix]-menu-style-merged.active:not(.$[prefix]-tab-style-merged) .$[prefix]-menu-item {\n    color: var(--winlet-menu-item-hover-color);\n}\n.$[prefix]-window.$[prefix]-menu-style-merged.active:not(.$[prefix]-tab-style-merged) .$[prefix]-menu-item:hover {\n    background-color: var(--$[prefix]-title-bar-bg);\n    color: var(--$[prefix]-menu-item-color);\n}\n\n.$[prefix]-window.$[prefix]-tab-style-merged .$[prefix]-tab-bar {\n    background-color: transparent;\n    flex-grow: 1;\n    flex-shrink: 1;\n    min-width: 0;\n    align-items: flex-end;\n    height: calc(var(--$[prefix]-title-bar-height) + 4px);\n    margin: 0;\n    order: 1; /* controlsより前に配置 */\n}\n.$[prefix]-window.$[prefix]-tab-style-merged .$[prefix]-tab-bar {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n}\n.$[prefix]-window.$[prefix]-tab-style-merged .$[prefix]-tab-bar::-webkit-scrollbar{\n    width: 0px;\n    height: 0px;\n}\n\n.$[prefix]-window.$[prefix]-title-bar.controls-left .$[prefix]-tab-bar {\n    order: -1;\n}\n\n\n.$[prefix]-window.$[prefix]-tab-style-merged .$[prefix]-tab {\n    border: 1px solid var(--$[prefix]-border);\n    border-bottom: none;\n    border-radius: 6px 6px 0 0;\n    margin-top: 4px;\n    margin-left: -1px;\n    position: relative;\n    bottom: -1px;\n}\n.$[prefix]-window.$[prefix]-tab-style-merged .$[prefix]-tab.active {\n    background-color: var(--$[prefix]-bg);\n    border-color: var(--$[prefix]-border);\n    border-bottom: 1px solid var(--$[prefix]-bg);\n    z-index: 2;\n}\n\n.$[prefix]-window.$[prefix]-tab-style-merged .$[prefix]-tab-add-btn {\n    border: none;\n    align-self: center;\n}\n.$[prefix]-window.$[prefix]-tab-style-merged .$[prefix]-main-content {\n    border-top: none;\n}\n.$[prefix]-window.$[prefix]-tab-style-merged .$[prefix]-controls,\n.$[prefix]-window.$[prefix]-menu-style-merged .$[prefix]-controls {\n    align-self: flex-start;\n    order: 2;\n}\n\n/* --- Mobile / Touch Device Adjustments --- */\n@media (pointer: coarse), (max-width: 768px) {\n    :root {\n        --$[prefix]-resize-handle-size: 16px;\n        --$[prefix]-resize-handle-offset: -8px;\n    }\n    .$[prefix]-control-btn {\n        width: calc(var(--$[prefix]-title-bar-height) * 1.5);\n    }\n}\n"},{}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LIB_VERSION=void 0;n.LIB_VERSION="v1.0.1.0"},{}]},{},[22]);
//# sourceMappingURL=winlet.min.js.map